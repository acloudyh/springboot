
### 消息结构

| 标识位 | 消息头 | 消息体 | 校验码 | 标识位 |
| :------:| :------: | :------: | :------: | :------: |
| 1byte(0x7e) | 16byte |  | 1byte | 1byte(0x7e) |



标识位	消息头	消息体	校验码	标识位
1byte(0x7e)	16byte	 	1byte	1byte(0x7e)


### 消息头
```
消息ID(0-1)   消息体属性(2-3)  终端手机号(4-9)  消息流水号(10-11)    消息包封装项(12-15)

byte[0-1]   消息ID word(16)
byte[2-3]   消息体属性 word(16)
        bit[0-9]    消息体长度
        bit[10-12]  数据加密方式
                        此三位都为 0，表示消息体不加密
                        第 10 位为 1，表示消息体经过 RSA 算法加密
                        其它保留
        bit[13]     分包
                        1：消息体卫长消息，进行分包发送处理，具体分包信息由消息包封装项决定
                        0：则消息头中无消息包封装项字段
        bit[14-15]  保留
byte[4-9]   终端手机号或设备ID bcd[6]
        根据安装后终端自身的手机号转换
        手机号不足12 位，则在前面补 0
byte[10-11]     消息流水号 word(16)
        按发送顺序从 0 开始循环累加
byte[12-15]     消息包封装项
        byte[0-1]   消息包总数(word(16))
                        该消息分包后得总包数
        byte[2-3]   包序号(word(16))
                        从 1 开始
        如果消息体属性中相关标识位确定消息分包处理,则该项有内容
        否则无该项

```

### 示例

#### 心跳包	

 ```	
7e 00 02 00 00 06 47 62 92 49 76 04 2f a7 7e
```

#### 鉴权包

```
7e010200060200000000150026313639333434397e
```

#### 注册包
```
7e 01 00 00 2e 06 47 62 92 48 24 00 02 00 00 00 00 48 4f 4f 50 00 bf b5 b4 ef 56 2d 31 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 5a 0d 5d ff 02 bb a6 44 50 39 39 39 37 00 02 7e
```

#### 位置包
```
7e 02 00 00 6a 06 47 62 92 49 76 01 4d 00 00 03 50 00 04 10 02 01 d9 f1 23 07 43 42 5e 00 03 00 a6 ff ff 19 04 03 13 34 50 00 00 00 25 04 00 07 00 08 00 00 00 e2 40 38 36 37 37 33 32 30 33 38 35 35 33 38 38 39 2d 62 75 66 32 2d 32 30 31 39 2d 30 34 2d 30 33 2d 31 33 2d 33 34 2d 34 39 2d 37 35 37 2d 70 68 6f 6e 65 2d 2e 6a 70 67 00 00 00 20 00 0c 14 cd e7 8d 7e
```



[大佬的简书](https://www.jianshu.com/p/c4cd52af5338)